
<h4>
  <b>Atoms Editor ({{selected.component.atoms.length}})</b>
</h4>
<h4 class="{{selected.component.workflowStatus}}">{{selected.component.name}}
  {{selected.component.id}}</h4>
<span ng-show="pagedAtoms.totalCount > 10" style="float: right;">
          <button ng-show="paging['atoms'].pageSize == 10" ng-click="paging['atoms'].pageSize = 100000; getPagedAtoms()" title="Show all atoms"
            class="btn btn-xs btn-primary">Show All</button>
          <button ng-show="paging['atoms'].pageSize == 100000" ng-click="paging['atoms'].pageSize = 10; getPagedAtoms()" title="Show paged atoms"
            class="btn btn-xs btn-primary">Show Paged</button>
</span>

<div pager paging="paging['atoms']" count="selected.component.atoms.length"
  callbacks="paging['atoms'].callbacks"></div>


<table class="table pointer">
  <thead>
    <tr>
      <th class="col-md-4 col-xs-4"><span
          ng-click="setSortField('atoms','name')">Name</span> <span
          ng-bind="getSortIndicator('atoms','name')"></span></th>
      <th class="col-md-2 col-xs-2"><span
          ng-click="setSortField('atoms','termType,terminology')">Termgroup</span>
        <span ng-bind="getSortIndicator('atoms','terminology,termType')"></span></th>
      <th class="col-md-1 col-xs-1"><span
          ng-click="setSortField('atoms','codeId')">Code</span> <span
          ng-bind="getSortIndicator('atoms','codeId')"></span></th>
      <th class="col-md-1 col-xs-1"><span
          ng-click="setSortField('atoms','conceptId')">Concept</span> <span
          ng-bind="getSortIndicator('atoms','conceptId')"></span></th>
      <th class="col-md-1 col-xs-1"><span
          ng-click="setSortField('atoms','descriptorId')">Descriptor</span> <span
          ng-bind="getSortIndicator('atoms','descriptorId')"></span></th>
      <th class="col-md-1 col-xs-1"><span
          ng-click="setSortField('atoms','lastModifiedBy')">Editor</span> <span
          ng-bind="getSortIndicator('atoms','lastModifiedBy')"></span></th>
      <th class="col-md-1 col-xs-1"><span style="float: right;">
          <button ng-click="openAddAtomModal(luser)" title="Add atom"
            class="btn btn-xs btn-primary">Add Atom</button>
        </span></th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="atom in pagedAtoms.data" ng-class="{selected: isRowSelected(atom)}">
      <td ng-click="toggleSelection(atom)"><input type="checkbox"  value="{{atom.name}}"
        ng-checked="isRowSelected(atom)"
        >&nbsp;{{atom.name}}</td>
      <td ng-click="toggleSelection(atom)">{{atom.terminology}}/{{atom.termType}}</td>
      <td ng-click="toggleSelection(atom)">{{atom.codeId}}</td>
      <td ng-click="toggleSelection(atom)">{{atom.conceptId}}</td>
      <td ng-click="toggleSelection(atom)">{{atom.descriptorId}}</td>
      <td ng-click="toggleSelection(atom)">{{atom.lastModifiedBy}}</td>
      <td class="nobreak">

        <i ng-click="openEditAtomModal(atom); $event.stopPropagation()"
          title="Edit" class="noul glyphicon glyphicon-pencil"></i>

        <i ng-show="isAtomDeleteable(atom)" confirm="Are you sure you want to remove the atom ({{atom.name}})?"
          ng-click="removeAtomFromConcept(atom); $event.stopPropagation()"
          title="Delete" class="noul glyphicon glyphicon-trash"></i>

      </td>
    </tr>
  </tbody>
</table>

<span style="float: left;">
  <button 
    ng-click="setSortField('atoms', null)" title="Sort by atom precedence" class="btn btn-xs btn-primary">Sort preferred</button>
</span>
<span style="float: right;">
  <button 
    ng-click="approveConcept()" title="Approve" class="btn btn-xs btn-primary">Approve</button>
  <button ng-click="next()" title="Next" class="btn btn-xs btn-primary">Next</button>
  <button 
    ng-click="approveNext()" title="Approve/Next" class="btn btn-xs btn-primary">Approve/Next</button>
  <button ng-click="openMergeModal()" ng-disabled="getSelectedAtomCount() == 0"
    title="Merge" class="btn btn-xs btn-primary">Merge</button>
  <button ng-click="openMoveModal()" ng-disabled="getSelectedAtomCount() == 0"
    title="Move" class="btn btn-xs btn-primary">Move</button>
  <button ng-click="openSplitModal()" ng-disabled="getSelectedAtomCount() == 0"
    title="Split" class="btn btn-xs btn-primary">Split</button>
</span>
